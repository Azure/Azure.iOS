//
//  ResourceOracleTests.swift
//  AzureData
//
//  Copyright (c) Microsoft Corporation. All rights reserved.
//  Licensed under the MIT License.
//

import XCTest
import AzureData

class ResourceOracleTests: XCTestCase {
    
    override func setUp() {
        super.setUp()
        // Put setup code here. This method is called before the invocation of each test method in the class.
    }
    
    override func tearDown() {
        // Put teardown code here. This method is called after the invocation of each test method in the class.
        super.tearDown()
    }
    
    func testExample() {
//        ResourceCache.purge()
//        ResourceOracle.purge()
//        let document = Document.testDocument
//        
//        ResourceOracle.restore()
//        
//        ResourceOracle.purge()
//        
//        ResourceOracle.printDump()
//        
//        ResourceOracle.storeLinks(forResource: document)
//
//        ResourceOracle.printDump()
//        
//        let altLink0 = ResourceOracle.getAltLink(forResource: document)
//        
//        XCTAssertNotNil(altLink0)
//        XCTAssertEqual(altLink0!, document.altLink!)
//
//        
//        let selfLink0 = ResourceOracle.getSelfLink(forResource: document)
//        
//        XCTAssertNotNil(selfLink0)
//        XCTAssertEqual(selfLink0!, document.selfLink!)
//
//        
//        let altLink1 = ResourceOracle.getAltLink(forSelfLink: document.selfLink!)
//        
//        XCTAssertNotNil(altLink1)
//        XCTAssertEqual(altLink1!, document.altLink!)
//
//        
//        let selfLink1 = ResourceOracle.getSelfLink(forAltLink: document.altLink!)
//        
//        XCTAssertNotNil(selfLink1)
//        XCTAssertEqual(selfLink1!, document.selfLink!)
//
//        
//        ResourceOracle.removeLinks(forResource: document)
//        
//        ResourceOracle.printDump()
//        
//        let altLink2 = ResourceOracle.getAltLink(forResource: document)
//        
//        XCTAssertNotNil(altLink2)
//        XCTAssertEqual(altLink2!, document.altLink!)
//
//        
//        let selfLink2 = ResourceOracle.getSelfLink(forResource: document)
//        
//        XCTAssertNotNil(selfLink2)
//        XCTAssertEqual(selfLink2!, document.selfLink!)
//        
//        
//        let altLink3 = ResourceOracle.getAltLink(forSelfLink: document.selfLink!)
//        
//        XCTAssertNil(altLink3)
//
//        
//        let selfLink3 = ResourceOracle.getSelfLink(forAltLink: document.altLink!)
//        
//        XCTAssertNil(selfLink3)
//
//        ResourceOracle.printDump()
//
//        ResourceOracle.purge()

        
//        print("pd 0")
//        ResourceOracle.printDump()
        
//        ResourceOracle.commit()
//        ResourceOracle.printDump()
        
//        print("pd 1")
//        ResourceOracle.restore()
//        ResourceOracle.printDump()
//
//        print("pd 2")
//        ResourceOracle.purge()
//        ResourceOracle.printDump()
    }
}
